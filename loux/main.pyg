    for time in times:
     get_ghost_cells()
     for x in xs:
      for y in ys:
        density[x, y] = ...
        momentum[x, y] = ...
        energy[x, y] = ...
      communicate...
